% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/policedatR-package.R
\docType{package}
\name{policedatR-package}
\alias{policedatR}
\alias{policedatR-package}
\title{policedatR: A package for acquiring, augmenting and analysing stop and search data}
\description{
An R package for acquiring, augmenting and analysing stop and search data from the UK Police API.
This package provides tools to fetch UK police stop and search data, perform geographical
analysis, and calculate ethnic disparities with population-adjusted risk ratios.
}
\section{Main Functions}{


\strong{Data Acquisition Functions:}
\itemize{
\item \code{\link{get_lad_data}()}: Get data by Local Authority District
\item \code{\link{get_lsoa_data}()}: Get data by Lower Super Output Area
\item \code{\link{get_msoa_data}()}: Get data by Middle Super Output Area
\item \code{\link{get_oa_data}()}: Get data by Output Area
\item \code{\link{get_pfa_data}()}: Get data by Police Force Area
\item \code{\link{get_region_data}()}: Get data by Region
}

\strong{Analysis Functions:}
\itemize{
\item \code{\link{analyse_anything}()}: Calculate counts and percentages of stops by grouping variables
\item \code{\link{calculate_riskratio}()}: Calculate ethnic disparity risk ratios using Census population data
}

\strong{Helper Functions:}
\itemize{
\item \code{\link{area_variables}()}: List available area variable options
\item \code{\link{list_areas}()}: Show values for specific area variables
\item \code{\link{show_analysis_variables}()}: Display available analysis grouping variables
}

\strong{Geometry Functions:}
\itemize{
\item \code{\link{get_lad_geometries}()}, \code{\link{get_lsoa_geometries}()}, etc.: Get spatial boundaries
}

\strong{Utility Functions:}
\itemize{
\item \code{\link{get_population_estimates}()}: Get Census 2021 population estimates
\item \code{\link{newest_data}()}, \code{\link{oldest_data}()}: Check data availability dates
\item \code{\link{flush_cache}()}: Clear cached data
}
}

\section{Typical Workflow}{

\enumerate{
\item \strong{Explore available areas}: Use \code{area_variables()} and \code{list_areas()}
\item \strong{Acquire data}: Use appropriate \code{get_*_data()} function with geographic subset
\item \strong{Analyze data}: Use \code{analyse_anything()} for descriptive statistics
\item \strong{Calculate disparities}: Use \code{calculate_riskratio()} for ethnic disparity analysis
}
}

\section{Examples}{


\preformatted{
# Get data for Greater London Local Authority Districts
london_data <- get_lad_data(subset = list("rgn22nm" = "London"))

# Analyze stops by area, period, and ethnicity
ethnicity_summary <- analyse_anything(
  london_data,
  analysis_variables = c("area", "period", "ethnicity"),
  ethnicity_definition = "self",
  collapse_ethnicity = TRUE,
  period = 12
)

# Calculate risk ratio comparing Black vs White stop rates
disparity <- calculate_riskratio(
  london_data,
  ethnicity_definition = "self",
  collapse_ethnicity = TRUE,
  comparison = c("white", "black"),
  period = 12
)
}
}

\section{Data Sources}{

\itemize{
\item \strong{Police Data}: data.police.uk API (Open Government Licence v3.0)
\item \strong{Geographic Boundaries}: ONS Open Geography Portal (Open Government Licence v3.0)
\item \strong{Population Data}: Census 2021 via NOMIS (Open Government Licence v3.0)
}
}

\section{Installation}{


\preformatted{
# Install from GitHub
devtools::install_github("JustKnowledge-UK/policedatR")
library(policedatR)
}
}

\section{Key Features}{

\itemize{
\item \strong{Geographic flexibility}: Support for multiple administrative geography levels
\item \strong{Temporal analysis}: Flexible time period groupings
\item \strong{Ethnicity analysis}: Both self-defined and officer-defined ethnicity options
\item \strong{Population adjustment}: Risk ratio calculations using Census 2021 data
\item \strong{Caching}: Efficient data storage to minimize API calls
\item \strong{Spatial support}: Integration with sf package for geographic analysis
}
}

\section{Analysis Variables}{


Available grouping variables for analysis include:
\itemize{
\item \strong{area}: Geographic area names
\item \strong{period}: Time periods (configurable length)
\item \strong{ethnicity}: Self-defined or officer-defined ethnic categories
\item \strong{object}: Object of search (e.g., drugs, weapons)
\item \strong{outcome}: Search outcome (e.g., arrest, no further action)
\item \strong{age}: Age ranges
\item \strong{gender}: Gender categories
\item \strong{legislation}: Legal powers used
}

Use \code{show_analysis_variables()} for detailed descriptions.
}

\section{Package Dependencies}{


This package relies on several key dependencies:
\itemize{
\item \strong{Data manipulation}: dplyr, tidyr, purrr
\item \strong{API interaction}: httr
\item \strong{Spatial analysis}: sf
\item \strong{Statistical analysis}: epitools
\item \strong{Caching}: cachem, memoise
}
}

\seealso{
\itemize{
\item Package repository: \url{https://github.com/JustKnowledge-UK/policedatR}
\item UK Police API: \url{https://data.police.uk/api/}
\item ONS Geography Portal: \url{https://geoportal.statistics.gov.uk/}
}
}
\author{
Jolyon Miles-Wilson \email{jolyon.miles-wilson@justknowledge.org.uk}

Celestin Okoroji \email{celestin.okoroji@justknowledge.org.uk}
}
\keyword{internal}
